function onYouTubeIframeAPIReady(){for(i=0;i<ytVideos.length;i++)window.ytPlayers.push(new YT.Player(ytVideos[i].id,{height:"360",width:"640",videoId:ytVideos[i].getAttribute("data-ytId"),playerVars:{rel:0,showinfo:0,autoplay:0,enablejsapi:1,origin:window.BASE,controls:2},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange,onError:onPlayerError}}))}function onPlayerReady(t){t.target.ready=!0,t.target.lastAction="ready"}function onPlayerStateChange(t){!1===window.ytDebug||console.log("last: "+t.target.lastAction),t.data===YT.PlayerState.PLAYING&&setTimeout(onPlayerPercent,1e3,t.target);var e=t.target.getVideoData(),a=e.title,o=e.video_id;"ready"===t.target.lastAction?t.data===YT.PlayerState.PLAYING&&(!1===window.ytDebug?dlPush("youtube","firstplay",o+" - "+a,window.activeTimer,!1,"beacon"):console.log("FIRSTPLAY: "+window.activeTimer+" seg"),window.jqLink.func({"$.customTimer":[o],"$.customActiveMaster":[o,!0]}),t.target.lastAction="firstplay",t.target.justChanged=!1):t.data===YT.PlayerState.PLAYING&&!0===t.target.autoStatChange&&!0===t.target.autoPlayed?(window.ytVideoTime=parseInt(t.target.getCurrentTime()/t.target.getDuration()*100),!1===window.ytDebug?dlPush("youtube","autoplay",o+" - "+a,window.ytVideoTime,!1,"beacon","fb"):console.log("AUTOPLAY: "+window.ytVideoTime+"%  /  "+o+" - "+a),t.target.lastAction="play",t.target.justChanged=!1,t.target.autoPlayed=!1):t.data===YT.PlayerState.PLAYING&&"pause"===t.target.lastAction&&t.target.getCurrentTime()-t.target.pausedTime<1&&t.target.getCurrentTime()-t.target.pausedTime>=-1&&!1===t.target.justChanged?(window.ytVideoTime=parseInt(t.target.getCurrentTime()/t.target.getDuration()*100),!1===window.ytDebug?dlPush("youtube","play",o+" - "+a,window.ytVideoTime,!1,"beacon","fb"):console.log("PLAY: "+window.ytVideoTime+"%  /  "+o+" - "+a),t.target.lastAction="play",t.target.justChanged=!1):t.data===YT.PlayerState.PLAYING&&"pause"===t.target.lastAction?(window.ytVideoTime=parseInt(t.target.getCurrentTime()/t.target.getDuration()*100),!1===window.ytDebug?dlPush("youtube","jump",o+" - "+a,window.ytVideoTime,!1,"beacon","fb"):console.log("JUMP: "+window.ytVideoTime+"%  /  "+o+" - "+a),t.target.lastAction="jump",t.target.justChanged=!1):t.data===YT.PlayerState.PAUSED&&!0===t.target.autoStatChange&&!0===t.target.autoPaused?(t.target.pausedTime=t.target.getCurrentTime(),window.ytVideoTime=parseInt(t.target.getCurrentTime()/t.target.getDuration()*100),!1===window.ytDebug?dlPush("youtube","autopause",o+" - "+a,window.ytVideoTime,!1,"beacon","fb"):console.log("AUTOPAUSE: "+window.ytVideoTime+"%  /  "+o+" - "+a),t.target.lastAction="pause",t.target.justChanged=!1,t.target.autoPaused=!1):t.data!==YT.PlayerState.PAUSED||"firstplay"!==t.target.lastAction&&"play"!==t.target.lastAction&&"jump"!==t.target.lastAction?t.target.justChanged=!0:(t.target.pausedTime=t.target.getCurrentTime(),setTimeout(function(){t.data===YT.PlayerState.PLAYING||t.data===YT.PlayerState.BUFFERING||!0===t.target.justChanged||(window.ytVideoTime=parseInt(t.target.getCurrentTime()/t.target.getDuration()*100),!1===window.ytDebug?dlPush("youtube","pause",o+" - "+a,window.ytVideoTime,!0,"beacon","fb"):console.log("PAUSE: "+window.ytVideoTime+"%  /  "+o+" - "+a),t.target.autoStatChange=!1)},200),t.target.lastAction="pause",t.target.justChanged=!1),t.data===YT.PlayerState.PLAYING?(window.activeMaster=!0,window.jqLink.func({"$.customActiveMaster":[o,!0]})):"ready"!==t.target.lastAction&&(window.activeMaster=!1,window.jqLink.func({"$.customActiveMaster":[o,!1],"$.customUserNonIdle":[o,!1]}))}function onPlayerError(t){console.log("error")}function onPlayerPercent(t){if(t.getPlayerState()===YT.PlayerState.PLAYING){var e=t.getVideoData(),a=e.title,o=e.video_id,i=t.getCurrentTime()<=window.customTimers[o].activeTimer?t.getCurrentTime():window.customTimers[o].activeTimer,r=t.getDuration()-i<=1.5?1:(Math.floor(i/t.getDuration()*10)/10).toFixed(2);parseFloat(r)>.9?r=.9:parseFloat(r)>.8?r=.8:parseFloat(r)>.7?r=.7:parseFloat(r)>.6?r=.6:parseFloat(r)>.5?r=.5:parseFloat(r)>.4?r=.4:parseFloat(r)>.3?r=.3:parseFloat(r)>.2?r=.2:parseFloat(r)>.1?r=.1:parseFloat(r)>0&&(r=0),r=parseFloat(r).toFixed(2),(!t.lastP||r>t.lastP)&&(t.lastP=r,0!=r&&(!1===window.ytDebug?dlPush("youtube","watch",o+" - "+a,100*r,!1,"beacon"):console.log("ASSISTIDO: "+100*r+"%  /  "+o+" - "+a))),1!=t.lastP&&setTimeout(onPlayerPercent,1e3,t)}}var ytVideos=document.querySelectorAll("[data-ytId]");if(ytVideos.length){window.ytDebug=window.ytDebug||!1,window.ytPlayers=[],window.ytVideoTime;var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),window.ytExit=function(t){if(window.ytPlayers.length)if(void 0===t){for(var e=0;e<window.ytPlayers.length;e++)if(!0===window.ytPlayers[e].ready&&window.ytPlayers[e].getPlayerState()===YT.PlayerState.PLAYING){var a=(i=window.ytPlayers[e].getVideoData()).title,o=i.video_id;window.ytVideoTime=parseInt(window.ytPlayers[e].getCurrentTime()/window.ytPlayers[e].getDuration()*100),!1===window.ytDebug?dlPush("youtube","exit",o+" - "+a,window.ytVideoTime,!0,"beacon","fb"):console.log("SAIU: "+window.ytVideoTime+"%  /  "+o+" - "+a)}}else if(!0===window.ytPlayers[t].ready&&window.ytPlayers[t].getPlayerState()===YT.PlayerState.PLAYING){var i=window.ytPlayers[t].getVideoData(),a=i.title,o=i.video_id;window.ytVideoTime=parseInt(window.ytPlayers[t].getCurrentTime()/window.ytPlayers[t].getDuration()*100),!1===window.ytDebug?dlPush("youtube","exit",o+" - "+a,window.ytVideoTime,!0,"beacon","fb"):console.log("SAIU: "+window.ytVideoTime+"%  /  "+o+" - "+a)}},window.ytPause=function(t){if(void 0===t)for(var e=0;e<window.ytPlayers.length;e++)!0===window.ytPlayers[e].ready&&window.ytPlayers[e].getPlayerState()===YT.PlayerState.PLAYING&&(window.ytPlayers[e].pauseVideo(),window.ytPlayers[e].autoStatChange=!0,window.ytPlayers[e].autoPaused=!0);else!0===window.ytPlayers[t].ready&&window.ytPlayers[t].getPlayerState()===YT.PlayerState.PLAYING&&(window.ytPlayers[t].pauseVideo(),window.ytPlayers[t].autoStatChange=!0,window.ytPlayers[t].autoPaused=!0)},window.ytPlay=function(t){if(void 0===t)for(var e=0;e<window.ytPlayers.length;e++)!0===window.ytPlayers[e].ready&&window.ytPlayers[e].getPlayerState()===YT.PlayerState.PAUSED&&!0===window.ytPlayers[e].autoStatChange&&(window.ytPlayers[e].playVideo(),window.ytPlayers[e].autoPlayed=!0);else!0===window.ytPlayers[t].ready&&window.ytPlayers[t].getPlayerState()===YT.PlayerState.PAUSED&&(window.ytPlayers[t].playVideo(),window.ytPlayers[t].autoPlayed=!0)},window.ytLoad=function(t,e,a,o,i){if(i=i||0,window.ytPlayers.length){var r=!0===e||"true"===e||1===e?"loadVideoById":"cueVideoById";if(void 0!==t){if("ready"!==window.ytPlayers[i].lastAction){var n=window.ytPlayers[i].getVideoData().video_id;ytExit(i),window.jqLink.func({"$.unsetCustomTimer":[n]})}!0!==e&&"true"!==e&&1!==e||window.jqLink.func({"$.customTimer":[t],"$.customActiveMaster":[t,!0]}),window.ytPlayers[i][r]({videoId:t,startSeconds:parseInt(a),endSeconds:parseInt(o)}),!0!==e&&"true"!==e&&1!==e&&(window.ytPlayers[i].lastAction="ready")}}else ytVideos[i].setAttribute("data-ytId",t)}}