function onYouTubeIframeAPIReady(){for(i=0;i<ANALYZIFY.yt.videos.length;i++)ANALYZIFY.yt.players.push(new YT.Player(ANALYZIFY.yt.videos[i].id,{height:"360",width:"640",videoId:ANALYZIFY.yt.videos[i].getAttribute("data-ytId"),playerVars:{rel:0,showinfo:0,autoplay:0,enablejsapi:1,origin:ANALYZIFY.BASE,controls:2},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange,onError:onPlayerError}}))}function onPlayerReady(e){e.target.ready=!0,e.target.lastAction="ready"}function onPlayerStateChange(e){!0!==ANALYZIFY.debug.yt||console.log("last: "+e.target.lastAction),e.data===YT.PlayerState.PLAYING&&setTimeout(onPlayerPercent,1e3,e.target);var t=e.target.getVideoData(),a=t.title,A=t.video_id;if("ready"===e.target.lastAction){if(e.data===YT.PlayerState.PLAYING){if(ANALYZIFY.activeTimer.counter<=30)i="1-30 seg";else if(ANALYZIFY.activeTimer.counter<=60)i="31-60 seg";else if(ANALYZIFY.activeTimer.counter<=120)i="61-120 seg";else i="120+ seg";!0!==ANALYZIFY.debug.yt?ANALYZIFY.dlPush("youtube","firstplay",A+" - "+a,i,!1,"beacon"):console.log("FIRSTPLAY: "+ANALYZIFY.activeTimer.counter+" seg"),ANALYZIFY.jqLink.func({customTimer:[A],customActiveMaster:[A,!0]}),e.target.lastAction="firstplay",e.target.justChanged=!1}}else if(e.data===YT.PlayerState.PLAYING&&!0===e.target.autoStatChange&&!0===e.target.autoPlayed){if(ANALYZIFY.yt.videoTime=parseInt(e.target.getCurrentTime()/e.target.getDuration()*100),ANALYZIFY.yt.videoTime<20)i="1-20 %";else if(ANALYZIFY.yt.videoTime<60)i="21-40 %";else if(ANALYZIFY.yt.videoTime<120)i="41-60 %";else if(ANALYZIFY.yt.videoTime<120)i="61-80 %";else i="81-100 %";!0!==ANALYZIFY.debug.yt?ANALYZIFY.dlPush("youtube","autoplay",A+" - "+a,i,!1,"beacon","fb"):console.log("AUTOPLAY: "+ANALYZIFY.yt.videoTime+"%  /  "+A+" - "+a),e.target.lastAction="play",e.target.justChanged=!1,e.target.autoPlayed=!1}else if(e.data===YT.PlayerState.PLAYING&&"pause"===e.target.lastAction&&e.target.getCurrentTime()-e.target.pausedTime<1&&e.target.getCurrentTime()-e.target.pausedTime>=-1&&!1===e.target.justChanged){if(ANALYZIFY.yt.videoTime=parseInt(e.target.getCurrentTime()/e.target.getDuration()*100),ANALYZIFY.yt.videoTime<20)i="1-20 %";else if(ANALYZIFY.yt.videoTime<60)i="21-40 %";else if(ANALYZIFY.yt.videoTime<120)i="41-60 %";else if(ANALYZIFY.yt.videoTime<120)i="61-80 %";else i="81-100 %";!0!==ANALYZIFY.debug.yt?ANALYZIFY.dlPush("youtube","play",A+" - "+a,i,!1,"beacon","fb"):console.log("PLAY: "+ANALYZIFY.yt.videoTime+"%  /  "+A+" - "+a),e.target.lastAction="play",e.target.justChanged=!1}else if(e.data===YT.PlayerState.PLAYING&&"pause"===e.target.lastAction){if(ANALYZIFY.yt.videoTime=parseInt(e.target.getCurrentTime()/e.target.getDuration()*100),ANALYZIFY.yt.videoTime<20)i="1-20 %";else if(ANALYZIFY.yt.videoTime<60)i="21-40 %";else if(ANALYZIFY.yt.videoTime<120)i="41-60 %";else if(ANALYZIFY.yt.videoTime<120)i="61-80 %";else i="81-100 %";!0!==ANALYZIFY.debug.yt?ANALYZIFY.dlPush("youtube","jump",A+" - "+a,i,!1,"beacon","fb"):console.log("JUMP: "+ANALYZIFY.yt.videoTime+"%  /  "+A+" - "+a),e.target.lastAction="jump",e.target.justChanged=!1}else if(e.data===YT.PlayerState.PAUSED&&!0===e.target.autoStatChange&&!0===e.target.autoPaused){if(e.target.pausedTime=e.target.getCurrentTime(),ANALYZIFY.yt.videoTime=parseInt(e.target.getCurrentTime()/e.target.getDuration()*100),ANALYZIFY.yt.videoTime<20)i="1-20 %";else if(ANALYZIFY.yt.videoTime<60)i="21-40 %";else if(ANALYZIFY.yt.videoTime<120)i="41-60 %";else if(ANALYZIFY.yt.videoTime<120)i="61-80 %";else var i="81-100 %";!0!==ANALYZIFY.debug.yt?ANALYZIFY.dlPush("youtube","autopause",A+" - "+a,i,!1,"beacon","fb"):console.log("AUTOPAUSE: "+ANALYZIFY.yt.videoTime+"%  /  "+A+" - "+a),e.target.lastAction="pause",e.target.justChanged=!1,e.target.autoPaused=!1}else e.data!==YT.PlayerState.PAUSED||"firstplay"!==e.target.lastAction&&"play"!==e.target.lastAction&&"jump"!==e.target.lastAction?e.target.justChanged=!0:(e.target.pausedTime=e.target.getCurrentTime(),setTimeout(function(){if(e.data===YT.PlayerState.PLAYING||e.data===YT.PlayerState.BUFFERING||!0===e.target.justChanged);else{if(ANALYZIFY.yt.videoTime=parseInt(e.target.getCurrentTime()/e.target.getDuration()*100),ANALYZIFY.yt.videoTime<20)t="1-20 %";else if(ANALYZIFY.yt.videoTime<60)t="21-40 %";else if(ANALYZIFY.yt.videoTime<120)t="41-60 %";else if(ANALYZIFY.yt.videoTime<120)t="61-80 %";else var t="81-100 %";!0!==ANALYZIFY.debug.yt?ANALYZIFY.dlPush("youtube","pause",A+" - "+a,t,!0,"beacon","fb"):console.log("PAUSE: "+ANALYZIFY.yt.videoTime+"%  /  "+A+" - "+a),e.target.autoStatChange=!1}},200),e.target.lastAction="pause",e.target.justChanged=!1);e.data===YT.PlayerState.PLAYING?(ANALYZIFY.activeTimer.activeMaster=!0,ANALYZIFY.jqLink.func({customActiveMaster:[A,!0]})):"ready"!==e.target.lastAction&&(ANALYZIFY.activeTimer.activeMaster=!1,ANALYZIFY.jqLink.func({customActiveMaster:[A,!1],customUserNonIdle:[A,!1]}))}function onPlayerError(e){console.log("error")}function onPlayerPercent(e){if(e.getPlayerState()===YT.PlayerState.PLAYING){var t=e.getVideoData(),a=t.title,A=t.video_id,i=e.getCurrentTime()<=ANALYZIFY.customTimers[A].activeTimer?e.getCurrentTime():ANALYZIFY.customTimers[A].activeTimer,Y=e.getDuration()-i<=1.5?1:(Math.floor(i/e.getDuration()*10)/10).toFixed(2);parseFloat(Y)>.9?Y=.9:parseFloat(Y)>.8?Y=.8:parseFloat(Y)>.7?Y=.7:parseFloat(Y)>.6?Y=.6:parseFloat(Y)>.5?Y=.5:parseFloat(Y)>.4?Y=.4:parseFloat(Y)>.3?Y=.3:parseFloat(Y)>.2?Y=.2:parseFloat(Y)>.1?Y=.1:parseFloat(Y)>0&&(Y=0),Y=parseFloat(Y).toFixed(2),(!e.lastP||Y>e.lastP)&&(e.lastP=Y,0!=Y&&(!0!==ANALYZIFY.debug.yt?ANALYZIFY.dlPush("youtube","watch",A+" - "+a,100*Y,!1,"beacon"):console.log("ASSISTIDO: "+100*Y+"%  /  "+A+" - "+a))),1!=e.lastP&&setTimeout(onPlayerPercent,1e3,e)}}if(void 0!==window.ANALYZIFY){if(ANALYZIFY.yt=ANALYZIFY.yt||{},ANALYZIFY.yt.videos=document.querySelectorAll("[data-ytId]"),ANALYZIFY.yt.videos.length){ANALYZIFY.yt.players=[],ANALYZIFY.yt.videoTime;var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),ANALYZIFY.ytExit=function(e){if(ANALYZIFY.yt.players.length)if(void 0===e){for(var t=0;t<ANALYZIFY.yt.players.length;t++)if(!0===ANALYZIFY.yt.players[t].ready&&ANALYZIFY.yt.players[t].getPlayerState()===YT.PlayerState.PLAYING){var a=(i=ANALYZIFY.yt.players[t].getVideoData()).title,A=i.video_id;if(ANALYZIFY.yt.videoTime=parseInt(ANALYZIFY.yt.players[t].getCurrentTime()/ANALYZIFY.yt.players[t].getDuration()*100),ANALYZIFY.yt.videoTime<20)Y="1-20 %";else if(ANALYZIFY.yt.videoTime<60)Y="21-40 %";else if(ANALYZIFY.yt.videoTime<120)Y="41-60 %";else if(ANALYZIFY.yt.videoTime<120)Y="61-80 %";else Y="81-100 %";!0!==ANALYZIFY.debug.yt?ANALYZIFY.dlPush("youtube","exit",A+" - "+a,Y,!0,"beacon","fb"):console.log("SAIU: "+ANALYZIFY.yt.videoTime+"%  /  "+A+" - "+a)}}else if(!0===ANALYZIFY.yt.players[e].ready&&ANALYZIFY.yt.players[e].getPlayerState()===YT.PlayerState.PLAYING){var i=ANALYZIFY.yt.players[e].getVideoData(),a=i.title,A=i.video_id;if(ANALYZIFY.yt.videoTime=parseInt(ANALYZIFY.yt.players[e].getCurrentTime()/ANALYZIFY.yt.players[e].getDuration()*100),ANALYZIFY.yt.videoTime<20)Y="1-20 %";else if(ANALYZIFY.yt.videoTime<60)Y="21-40 %";else if(ANALYZIFY.yt.videoTime<120)Y="41-60 %";else if(ANALYZIFY.yt.videoTime<120)Y="61-80 %";else var Y="81-100 %";!0!==ANALYZIFY.debug.yt?ANALYZIFY.dlPush("youtube","exit",A+" - "+a,Y,!0,"beacon","fb"):console.log("SAIU: "+ANALYZIFY.yt.videoTime+"%  /  "+A+" - "+a)}},ANALYZIFY.ytPause=function(e){if(void 0===e)for(var t=0;t<ANALYZIFY.yt.players.length;t++)!0===ANALYZIFY.yt.players[t].ready&&ANALYZIFY.yt.players[t].getPlayerState()===YT.PlayerState.PLAYING&&(ANALYZIFY.yt.players[t].pauseVideo(),ANALYZIFY.yt.players[t].autoStatChange=!0,ANALYZIFY.yt.players[t].autoPaused=!0);else!0===ANALYZIFY.yt.players[e].ready&&ANALYZIFY.yt.players[e].getPlayerState()===YT.PlayerState.PLAYING&&(ANALYZIFY.yt.players[e].pauseVideo(),ANALYZIFY.yt.players[e].autoStatChange=!0,ANALYZIFY.yt.players[e].autoPaused=!0)},ANALYZIFY.ytPlay=function(e){if(void 0===e)for(var t=0;t<ANALYZIFY.yt.players.length;t++)!0===ANALYZIFY.yt.players[t].ready&&ANALYZIFY.yt.players[t].getPlayerState()===YT.PlayerState.PAUSED&&!0===ANALYZIFY.yt.players[t].autoStatChange&&(ANALYZIFY.yt.players[t].playVideo(),ANALYZIFY.yt.players[t].autoPlayed=!0);else!0===ANALYZIFY.yt.players[e].ready&&ANALYZIFY.yt.players[e].getPlayerState()===YT.PlayerState.PAUSED&&(ANALYZIFY.yt.players[e].playVideo(),ANALYZIFY.yt.players[e].autoPlayed=!0)},ANALYZIFY.ytLoad=function(e,t,a,i,Y){if(Y=Y||0,ANALYZIFY.yt.players.length){var r=!0===t||"true"===t||1===t?"loadVideoById":"cueVideoById";if(void 0!==e){if("ready"!==ANALYZIFY.yt.players[Y].lastAction){var o=ANALYZIFY.yt.players[Y].getVideoData().video_id;A.ytExit(Y),ANALYZIFY.jqLink.func({unsetCustomTimer:[o]})}!0!==t&&"true"!==t&&1!==t||ANALYZIFY.jqLink.func({customTimer:[e],customActiveMaster:[e,!0]}),ANALYZIFY.yt.players[Y][r]({videoId:e,startSeconds:parseInt(a),endSeconds:parseInt(i)}),!0!==t&&"true"!==t&&1!==t&&(ANALYZIFY.yt.players[Y].lastAction="ready")}}else ANALYZIFY.yt.videos[Y].setAttribute("data-ytId",e)},Object.assign(ANALYZIFY.customEntries.beforeUnload,{ytExit:{}}),Object.assign(ANALYZIFY.customEntries.pageShow,{viewEvent:{params:["youtube",!0]}}),Object.assign(ANALYZIFY.customEntries.pageHidden,{ytPause:{}})}}else console.error("YouTube plugin must be loaded after Analyzify main script");